<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=500, initial-scale=0.8" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <style>
      body {
        font-size: 16px;
        zoom: 100%;
      }
    </style>
    <title>ATTESTATION DE DÉPLACEMENT DÉROGATOIRE</title>
  </head>
  <body class="container-fluid">
    <div
      id="alert"
      class="alert alert-info mt-5 d-print-none small"
      role="alert"
      onclick="dismiss()"
    >
      <a href="#" class="close" data-dismiss="alert" aria-label="close"
        >&times;</a
      >
      Nous utilisons les cookies afin de sauvegarder les dernières saisies sur
      votre machine. Les cookies sont des données qui sont téléchargés ou
      stockés sur votre ordinateur ou sur tout autre appareil.
    </div>

    <h3>ATTESTATION DE DÉPLACEMENT DÉROGATOIRE</h3>

    <div class="d-flex justify-content-end">
      <button class="btn btn-primary d-print-none" onclick="printit()">
        Imprimer
      </button>
    </div>

    <p class="my-5">
      En application de l’article 1er du décret du 16 mars 2020 portant
      réglementation des déplacements dans le cadre de la lutte contre la
      propagation du virus Covid-19 :
    </p>

    <div class="m-3">
      <p>Je sousigné(e)</p>
      <div class="mx-5">
        <div class="form-group row mb-4">
          <label>Mme / M.</label>
          <input
            id="username"
            onchange="onChange('username', this.value)"
            class="form-control"
            type="text"
          />
        </div>

        <div class="form-group row mb-4">
          <label>Né(e) le</label>
          <input
            id="birthdate"
            onchange="onChange('birthdate', this.value)"
            class="form-control"
            type="text"
          />
        </div>

        <div class="form-group row">
          <label>Demeurant</label>
          <input
            id="adress"
            onchange="onChange('adress', this.value)"
            class="form-control"
            type="text"
          />
        </div>
      </div>
    </div>

    <div class="mx-4 my-5">
      <div class="d-flex">
        <input type="checkbox" class="mt-2 mr-2 form-check-input" />
        <label>
          déplacements entre le domicile et le lieu d’exercice de l’activité
          professionnelle, lorsqu’ils sont indispensables à l’exercice
          d’activités ne pouvant être organisées sous forme de télétravail (sur
          justificatif permanent) ou déplacements professionnels ne pouvant être
          différés ;</label
        >
      </div>
      <div class="d-flex mt-4">
        <input type="checkbox" class="mt-2 mr-2 form-check-input" />
        <label>
          déplacements pour effectuer des achats de première nécessité dans des
          établissements autorisés (liste sur gouvernement.fr);</label
        >
      </div>
      <div class="d-flex mt-4">
        <input type="checkbox" class="mt-2 mr-2 form-check-input" />
        <label> déplacements pour motif de santé;</label>
      </div>
      <div class="d-flex mt-4">
        <input type="checkbox" class="mt-2 mr-2 form-check-input" />
        <label>
          déplacements pour motif familial impérieux, pour l’assistance aux
          personnes vulnérables ou la garde d’enfants ;</label
        >
      </div>

      <div class="d-flex mt-4">
        <input type="checkbox" class="mt-2 mr-2 form-check-input" />
        <label>
          déplacements brefs, à proximité du domicile, liés à l’activité
          physique individuelle des personnes, à l’exclusion de toute pratique
          sportive collective, et aux besoins des animaux de compagnie.
        </label>
      </div>
    </div>

    <p class="mt-5">
      certifie que mon déplacement est lié au motif suivant (cocher la case)
      autorisé par l’article 1er du décret du 16 mars 2020 portant
      réglementation des déplacements dans le cadre de la lutte contre la
      propagation du virus Covid-19 :
    </p>

    <div class="d-flex mx-4 mt-5 mb-3 justify-content-end">
      <div class="form-group row mb-4 mr-5">
        <label for="location">Fait à : </label>
        <input
          id="location"
          onchange="onChange('location', this.value)"
          class="form-control mr-2"
          type="text"
        />
      </div>
      <div class="form-group row">
        <label for="date">Le : </label>
        <input class="form-control" id="date" type="text" value="" />
      </div>
    </div>

    <div class="d-flex justify-content-end mr-2">
      <p>(signature)</p>
    </div>

    <div class="d-flex justify-content-end mb-5">
      <button class="btn btn-primary d-print-none" onclick="printit()">
        Imprimer
      </button>
    </div>

    <script>
      function dismiss() {
        document.getElementById("alert").style.display = "none";
      }

      function printit() {
        window.print();
      }

      function onChange(input, value) {
        setCookie(input, value, 36000);
      }

      function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }

      function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(";");
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == " ") {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }

      function setDefaultValue(input) {
        tag = document.getElementById(input);
        if (tag) {
          tag.value = getCookie(input);
        }
      }
    </script>

    <script>
      document.getElementById("date").value = new Date().toLocaleDateString();

      // without jQuery (doesn't work in older IEs)
      document.addEventListener(
        "DOMContentLoaded",
        function () {
          console.log("loaded");
          setDefaultValue("username");
          setDefaultValue("birthdate");
          setDefaultValue("adress");
          setDefaultValue("location");
        },
        false
      );
    </script>
  </body>
</html>
